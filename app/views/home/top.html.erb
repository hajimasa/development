<h1>Hello world</h1>
<h2>gmap</h2>
<div id='map'></div>

コンパスのデータ<br>
<%= @connpass_results %>

ATNDのデータ
<%= @atnd_results %>

DOORKEEPERのデータ
<%= @door_keeper_results%>

<style>
#map{
  height: 400px;
}
</style>

<script>
  var map;
  var marker = [];
  // 初期表示の中心地点を指定
  var center = {
    lat: 35.7019399,                    // 緯度
    lng: 139.51002519999997             // 軽度
  };

  var markerData = [ // マーカーを立てる場所名・緯度・経度
  {
       name: 'TAM 東京',
       lat: 35.6954806,
        lng: 139.76325010000005,
        icon: 'tam.png' // TAM 東京のマーカーだけイメージを変更する
 }, {
        name: '小川町駅',
     lat: 35.6951212,
        lng: 139.76610649999998
 }, {
        name: '淡路町駅',
     lat: 35.69496,
      lng: 139.76746000000003
 }, {
        name: '御茶ノ水駅',
        lat: 35.6993529,
        lng: 139.76526949999993
 }, {
        name: '神保町駅',
     lat: 35.695932,
     lng: 139.75762699999996
 }, {
        name: '新御茶ノ水駅',
       lat: 35.696932,
     lng: 139.76543200000003
 }
];


function initMap(){
  // id mapにマップを埋め込む
  map = new google.maps.Map(document.getElementById('map'), {
    center:  center,                      // 中心地点を指定
    zoom: 8
  });

  // マーカー毎の処理
 for (var i = 0; i < markerData.length; i++) {
        markerLatLng = new google.maps.LatLng({lat: markerData[i]['lat'], lng: markerData[i]['lng']}); // 緯度経度のデータ作成
        marker[i] = new google.maps.Marker({ // マーカーの追加
          position: markerLatLng, // マーカーを立てる位置を指定
          map: map // マーカーを立てる地図を指定
       });
};

  // // マーカーの追加
  // marker = new google.maps.Marker({
  //   position: center,              // マーカーを立てる位置を指定
  //   map: map                                 // マーカーを立てる地図を指定
  //  });

}
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDSynXRfRf7YSrXKzqse275Ukr9SUsdhdM&callback=initMap" async defer></script>
